<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>lazy otter Â· ìë¦¬ ìˆì–´ìš”?</title>
<link href="https://fonts.googleapis.com/css2?family=Dongle:wght@300;400;700&family=Black+Han+Sans&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #f5edd8; --wall: #ede5c8; --wall2: #ddd5b0;
    --wood: #8b5e3c; --wood2: #6b3e1c; --dark: #2c1a0e;
    --lp-dark: #3a0808;
    --av: #3a7a2a; --av2: #2a5a1a; --av-bg: #c8f0bc;
    --fl: #c02818; --fl2: #901808; --fl-bg: #ffd8d0;
    --px: 3px;
    --admin: #1a3a5c; --admin2: #0e2240;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    background:var(--bg); font-family:'Dongle',sans-serif; min-height:100vh;
    background-image: linear-gradient(rgba(139,94,60,0.05) 1px,transparent 1px), linear-gradient(90deg,rgba(139,94,60,0.05) 1px,transparent 1px);
    background-size:20px 20px;
  }

  /* â”€â”€ ì–´ë“œë¯¼ ëª¨ë“œ ë°”ë”” â”€â”€ */
  body.admin-mode { background:#e8f0f8; }
  body.admin-mode { background-image: linear-gradient(rgba(26,58,92,0.05) 1px,transparent 1px), linear-gradient(90deg,rgba(26,58,92,0.05) 1px,transparent 1px); }

  /* â”€â”€ ì–´ë“œë¯¼ íƒ‘ë°” â”€â”€ */
  .admin-topbar {
    display:none; background:var(--admin); color:#fff;
    padding:8px 16px; font-family:'Black Han Sans',sans-serif;
    font-size:15px; letter-spacing:1px;
    align-items:center; justify-content:space-between;
    border-bottom:3px solid var(--admin2);
  }
  body.admin-mode .admin-topbar { display:flex; }
  .admin-exit-btn {
    background:#fff; color:var(--admin); border:none; cursor:pointer;
    font-family:'Black Han Sans',sans-serif; font-size:13px;
    padding:4px 12px; box-shadow:2px 2px 0 var(--admin2);
    letter-spacing:0.5px;
  }

  /* â”€â”€ í—¤ë” â”€â”€ */
  .header { text-align:center; padding:22px 20px 6px; }
  .logo {
    display:inline-block; background:var(--dark); color:var(--bg);
    font-family:'Black Han Sans',sans-serif; font-size:20px;
    padding:5px 22px; letter-spacing:3px; box-shadow:4px 4px 0 var(--wood2); margin-bottom:8px;
  }
  body.admin-mode .logo { background:var(--admin); box-shadow:4px 4px 0 var(--admin2); }
  .page-title { font-family:'Black Han Sans',sans-serif; font-size:32px; color:var(--dark); letter-spacing:1px; }
  .subtitle { font-size:20px; color:var(--wood); }

  /* â”€â”€ ê³µì§€ì‚¬í•­ â”€â”€ */
  .notice-bar { max-width:620px; margin:0 auto 8px; padding:0 12px; }
  .notice-content {
    display:none;
    background:var(--dark); color:var(--bg);
    padding:10px 16px; box-shadow:4px 4px 0 var(--wood2);
    border-left:5px solid #d4a030;
  }
  .notice-content.show { display:flex; align-items:flex-start; gap:10px; }
  .notice-icon { font-size:20px; flex-shrink:0; margin-top:2px; }
  .notice-text { font-size:17px; line-height:1.5; }
  body.admin-mode .notice-content { border:2px dashed var(--admin); box-shadow:4px 4px 0 var(--admin2); }

  .legend { display:flex; justify-content:center; gap:20px; padding:8px 0 3px; }
  .li { display:flex; align-items:center; gap:6px; font-size:18px; color:var(--dark); }
  .ld { width:12px; height:12px; box-shadow:2px 2px 0 rgba(0,0,0,0.2); flex-shrink:0; }
  .ld.av { background:var(--av); } .ld.fl { background:var(--fl); }

  .update-bar { text-align:center; font-size:17px; color:var(--wood); padding:2px 0 10px; }
  .pulse { display:inline-block; width:8px; height:8px; background:var(--av); margin-right:5px; vertical-align:middle; animation:blink 1s step-end infinite; }
  @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0} }

  /* â”€â”€ ë„ë©´ â”€â”€ */
  .cafe-wrapper { display:flex; justify-content:center; padding:0 12px 20px; }
  .floor-plan {
    position:relative; width:620px; height:520px;
    background:var(--wall); border:var(--px) solid var(--dark);
    box-shadow:6px 6px 0 var(--wood2); overflow:hidden; flex-shrink:0;
  }
  .floor-bg {
    position:absolute; left:190px; top:0; right:0; bottom:0;
    background:repeating-linear-gradient(90deg,#e8d898 0,#e8d898 42px,#dcc880 42px,#dcc880 44px);
  }

  /* ì–´ë“œë¯¼ ëª¨ë“œ ë„ë©´ ì˜¤ë²„ë ˆì´ íŒíŠ¸ */
  body.admin-mode .floor-plan { box-shadow:6px 6px 0 var(--admin2); border-color:var(--admin); }

  /* â”€â”€ ì™¼ìª½ ì„¹ì…˜ â”€â”€ */
  .left-section {
    position:absolute; left:0; top:0; width:190px; height:100%;
    background:linear-gradient(180deg,#ddd858 0%,#c8c848 100%);
    border-right:var(--px) solid var(--dark); z-index:1;
  }
  .loft-badge {
    position:absolute; left:8px; top:8px;
    background:var(--dark); color:var(--bg);
    font-family:'Black Han Sans',sans-serif;
    font-size:10px; padding:3px 7px; letter-spacing:0.5px; line-height:1.5;
    box-shadow:2px 2px 0 var(--wood2); z-index:3;
  }
  .loft-stairs {
    position:absolute; left:8px; top:48px; width:174px; height:26px;
    background:repeating-linear-gradient(90deg,#b8b040 0,#b8b040 16px,#989030 16px,#989030 18px);
    border:var(--px) solid var(--dark);
    display:flex; align-items:center; justify-content:center; z-index:3;
  }
  .stairs-label { font-size:15px; color:var(--dark); }
  .secret-room {
    position:absolute; left:8px; top:84px; width:174px;
    background:rgba(210,192,145,0.72); border:var(--px) solid var(--dark);
    padding:8px; z-index:2; display:flex; flex-direction:column; gap:10px;
  }
  .room-title { font-size:17px; color:var(--dark); text-align:center; border-bottom:1px dashed var(--wood); padding-bottom:4px; }

  /* ë°” í…Œì´ë¸” */
  .bar-table-wrap { display:flex; flex-direction:column; gap:4px; align-items:flex-start; }
  .bar-table-label { font-size:13px; color:var(--wood2); font-family:'Black Han Sans',sans-serif; letter-spacing:1px; margin-bottom:1px; }
  .bar-seats { display:flex; flex-direction:column; gap:4px; }
  .bar-seat { cursor:pointer; transition:transform 0.1s; }
  .bar-seat:hover { transform:translateX(2px); }
  .seat-box {
    width:158px; height:30px; border:2px solid var(--dark);
    display:flex; align-items:center; justify-content:space-between;
    padding:0 8px; transition:background 0.3s; box-shadow:2px 2px 0 var(--dark);
  }
  .seat-box.av { background:var(--av-bg); box-shadow:2px 2px 0 var(--av2); border-color:var(--av); }
  .seat-box.fl { background:var(--fl-bg); box-shadow:2px 2px 0 var(--fl2); border-color:var(--fl); }
  .seat-info { display:flex; align-items:center; gap:5px; }
  .seat-num { font-family:'Black Han Sans',sans-serif; font-size:12px; color:var(--dark); }
  .seat-person { font-size:13px; color:var(--wood2); }
  .seat-status { font-family:'Black Han Sans',sans-serif; font-size:10px; padding:1px 5px; border:1px solid var(--dark); box-shadow:1px 1px 0 var(--dark); }
  .seat-box.av .seat-status { background:var(--av); color:#fff; }
  .seat-box.fl .seat-status { background:var(--fl); color:#fff; }

  .room-table-wrap { display:flex; flex-direction:column; align-items:flex-end; }
  .room-table-label { font-size:13px; color:var(--wood2); font-family:'Black Han Sans',sans-serif; letter-spacing:1px; margin-bottom:3px; }
  .sm-table { cursor:pointer; }
  .sm-table:hover .tb { transform:translateY(-2px); filter:brightness(1.05); }

  /* â”€â”€ LP ì„œì¬ â”€â”€ */
  .lp-shelf {
    position:absolute; left:190px; top:0; width:78px; height:370px;
    background:var(--lp-dark); border-right:var(--px) solid var(--dark);
    border-bottom:var(--px) solid var(--dark); z-index:3;
    display:flex; flex-direction:column; align-items:center;
    padding:10px 6px; gap:3px; box-shadow:4px 0 0 #2a0404;
  }
  .lp-title { font-family:'Black Han Sans',sans-serif; font-size:13px; color:#f0c8c0; letter-spacing:1px; text-align:center; margin-bottom:4px; }
  .lp-stack { display:flex; flex-direction:column; gap:2px; width:62px; }
  .lp-record { height:8px; background:linear-gradient(90deg,#060606 0%,#181818 30%,#0a0a0a 60%,#1e1e1e 100%); border:1px solid #2a2a2a; }
  .lp-disc-wrap { margin-top:8px; display:flex; flex-direction:column; align-items:center; gap:3px; }
  .lp-disc {
    width:42px; height:42px; border-radius:50%;
    background:conic-gradient(#060606 0deg,#161616 45deg,#060606 90deg,#1e1e1e 135deg,#060606 180deg,#161616 225deg,#060606 270deg,#1e1e1e 315deg,#060606 360deg);
    border:3px solid #383838; box-shadow:2px 2px 0 #000; animation:spin 4s linear infinite;
  }
  @keyframes spin { to{transform:rotate(360deg)} }
  .lp-disc-label { font-size:13px; color:#b09080; letter-spacing:1px; }

  /* â”€â”€ í…Œì´ë¸” ê³µí†µ â”€â”€ */
  .table { position:absolute; cursor:pointer; z-index:5; }
  .table:hover .tb { transform:translateY(-2px); filter:brightness(1.05); }
  .tb {
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    border:var(--px) solid var(--dark); position:relative; transition:background 0.3s,transform 0.15s;
  }
  .tb-name { font-family:'Black Han Sans',sans-serif; font-size:13px; color:var(--dark); text-align:center; line-height:1.2; }
  .tb-seats { font-size:15px; color:var(--wood2); margin-top:1px; }
  .status {
    position:absolute; top:-11px; right:-8px;
    font-family:'Black Han Sans',sans-serif; font-size:10px;
    padding:2px 5px; border:1px solid var(--dark); box-shadow:1px 1px 0 var(--dark); letter-spacing:0.5px;
  }
  .tb.av { background:var(--av-bg); box-shadow:4px 4px 0 var(--av2); }
  .tb.av .status { background:var(--av); color:#fff; }
  .tb.fl { background:var(--fl-bg); box-shadow:4px 4px 0 var(--fl2); }
  .tb.fl .status { background:var(--fl); color:#fff; }

  /* ì–´ë“œë¯¼ ëª¨ë“œ: í…Œì´ë¸” í† ê¸€ íŒíŠ¸ */
  body.admin-mode .table .tb::after,
  body.admin-mode .sm-table .tb::after {
    content:'íƒ­í•˜ì—¬ ì „í™˜';
    position:absolute; bottom:-18px; left:50%; transform:translateX(-50%);
    font-size:9px; color:var(--admin); white-space:nowrap; opacity:0.7;
    font-family:'Black Han Sans',sans-serif;
  }
  body.admin-mode .bar-seat::after {
    content:'íƒ­í•˜ì—¬ ì „í™˜';
    display:block; font-size:9px; color:var(--admin); opacity:0.7;
    font-family:'Black Han Sans',sans-serif; margin-top:1px; padding-left:4px;
  }

  /* í…Œì´ë¸” ìœ„ì¹˜ */
  #t1 { left:282px; top:24px; } #t1 .tb { width:122px; height:56px; }
  #t2 { right:22px; top:24px; } #t2 .tb { width:104px; height:52px; }
  #t3 { right:22px; top:108px; } #t3 .tb { width:122px; height:56px; }
  #t4 { left:308px; top:188px; } #t4 .tb { width:98px; height:98px; border-radius:50%; }
  #t5 { left:210px; top:318px; } #t5 .tb { width:58px; height:88px; }

  /* â”€â”€ í„´í…Œì´ë¸” â”€â”€ */
  .turntable {
    position:absolute; right:22px; top:242px; width:56px; height:74px;
    background:#111; border:var(--px) solid var(--dark); box-shadow:4px 4px 0 #000;
    display:flex; flex-direction:column; align-items:center; justify-content:center; gap:4px; z-index:4;
  }
  .tt-disc {
    width:34px; height:34px; border-radius:50%;
    background:conic-gradient(#040404 0deg,#141414 45deg,#040404 90deg,#1c1c1c 135deg,#040404 180deg,#141414 225deg,#040404 270deg,#1c1c1c 315deg,#040404 360deg);
    border:3px solid #3a3a3a; animation:spin 3s linear infinite;
  }
  .tt-label { font-size:13px; color:#666; }

  /* ì‹ë¬¼ */
  .plant { position:absolute; z-index:4; display:flex; flex-direction:column; align-items:center; }
  .plant-pot { background:var(--wood); border:1px solid var(--wood2); border-radius:0 0 4px 4px; margin-top:-2px; }

  /* â”€â”€ ì¹´ìš´í„° êµ¬ì¡° â”€â”€ */
  .guest-wrap { position:absolute; right:82px; bottom:96px; z-index:6; }
  .guest-char { width:30px; height:44px; display:block; }
  .owner-wrap { position:absolute; right:22px; bottom:8px; z-index:4; display:flex; flex-direction:column; align-items:center; }
  .counter { width:148px; height:44px; background:var(--wood); border:var(--px) solid var(--dark); box-shadow:4px 4px 0 var(--wood2); display:flex; align-items:center; justify-content:center; }
  .counter-label { font-family:'Black Han Sans',sans-serif; font-size:15px; color:var(--bg); letter-spacing:1px; }
  .owner-char { width:38px; height:54px; display:block; margin-top:-2px; }

  /* í™”ì¥ì‹¤/ë¬¸ */
  .bathroom { position:absolute; left:272px; bottom:16px; width:92px; height:36px; background:#d8cca8; border:var(--px) solid var(--dark); box-shadow:2px 2px 0 var(--wood2); display:flex; align-items:center; justify-content:center; z-index:4; }
  .bathroom-label { font-size:17px; color:var(--dark); }
  .entrance { position:absolute; left:200px; bottom:16px; width:64px; height:36px; background:var(--wood2); border:var(--px) solid var(--dark); box-shadow:2px 2px 0 #000; display:flex; align-items:center; justify-content:center; z-index:4; }
  .entrance-label { font-family:'Black Han Sans',sans-serif; font-size:15px; color:var(--bg); }

  /* â”€â”€ íˆ´íŒ â”€â”€ */
  .tooltip { position:fixed; background:var(--dark); color:var(--bg); padding:6px 14px; font-family:'Black Han Sans',sans-serif; font-size:14px; pointer-events:none; z-index:999; opacity:0; transition:opacity 0.15s; white-space:nowrap; box-shadow:3px 3px 0 var(--wood2); border:1px solid var(--wood2); }
  .tooltip.show { opacity:1; }

  /* â”€â”€ ì˜¤ëŠ˜ì˜ LP â”€â”€ */
  .lp-section { max-width:620px; margin:0 auto 16px; padding:0 12px; }
  .lp-section-inner {
    background:var(--lp-dark);
    border:var(--px) solid var(--dark);
    box-shadow:5px 5px 0 var(--wood2);
    padding:16px 18px;
  }
  .lp-section-header {
    display:flex; align-items:center; gap:10px;
    border-bottom:2px solid #5a1818; padding-bottom:10px; margin-bottom:14px;
  }
  .lp-spinning {
    width:28px; height:28px; border-radius:50%; flex-shrink:0;
    background:conic-gradient(#060606 0deg,#161616 45deg,#060606 90deg,#1e1e1e 135deg,#060606 180deg,#161616 225deg,#060606 270deg,#1e1e1e 315deg,#060606 360deg);
    border:3px solid #484848; animation:spin 3s linear infinite;
  }
  .lp-section-title { font-family:'Black Han Sans',sans-serif; font-size:18px; color:#f0c8c0; letter-spacing:1px; }
  .lp-date { font-size:14px; color:#886858; margin-left:auto; }

  /* LP ì¹´ë“œ */
  .lp-list { display:flex; flex-direction:column; gap:8px; }
  .lp-item {
    display:flex; align-items:center; gap:12px;
    padding:8px 10px;
    background:rgba(255,255,255,0.04);
    border-left:3px solid #5a1818;
    transition:background 0.2s;
  }
  .lp-item:hover { background:rgba(255,255,255,0.09); }
  .lp-item.now-playing { border-left:3px solid #d4a030; background:rgba(212,160,48,0.07); }

  .lp-cover-disc {
    width:48px; height:48px; border-radius:50%; flex-shrink:0;
    background:conic-gradient(#080808 0deg,#1a1a1a 30deg,#080808 60deg,#222 90deg,#080808 120deg,#1a1a1a 150deg,#080808 180deg,#222 210deg,#080808 240deg,#1a1a1a 270deg,#080808 300deg,#222 330deg,#080808 360deg);
    border:3px solid #383838;
    display:flex; align-items:center; justify-content:center;
  }
  .lp-cover-disc::after {
    content:''; width:9px; height:9px; border-radius:50%;
    background:#2a2a2a; border:2px solid #585858;
  }
  .lp-cover-disc.spinning { animation:spin 4s linear infinite; }

  .lp-num { font-family:'Black Han Sans',sans-serif; font-size:11px; color:#886858; width:14px; flex-shrink:0; text-align:center; }
  .lp-info { flex:1; min-width:0; }
  .lp-album { font-family:'Black Han Sans',sans-serif; font-size:14px; color:#f0e0d8; letter-spacing:0.5px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  .lp-artist { font-size:14px; color:#b09080; margin-top:2px; }
  .lp-now { font-size:11px; color:#d4a030; font-family:'Black Han Sans',sans-serif; padding:2px 6px; border:1px solid #d4a030; flex-shrink:0; animation:blink 1.5s step-end infinite; }

  .lp-empty { text-align:center; color:#886858; font-size:17px; padding:20px 0; }

  /* â”€â”€ ë°©ëª…ë¡ â”€â”€ */
  .guestbook-section { max-width:620px; margin:0 auto 16px; padding:0 12px; }
  .gb-title { font-family:'Black Han Sans',sans-serif; font-size:22px; color:var(--dark); letter-spacing:1px; padding:12px 0 10px; border-bottom:var(--px) solid var(--dark); margin-bottom:12px; }
  .gb-input-wrap { display:flex; flex-direction:column; gap:8px; margin-bottom:16px; }
  .gb-input-wrap textarea { width:100%; height:76px; border:var(--px) solid var(--dark); padding:10px; font-family:'Dongle',sans-serif; font-size:18px; color:var(--dark); background:#fffaf0; resize:none; outline:none; }
  .gb-submit { align-self:flex-end; padding:8px 24px; background:var(--dark); color:var(--bg); font-family:'Black Han Sans',sans-serif; font-size:15px; border:none; cursor:pointer; box-shadow:3px 3px 0 var(--wood2); letter-spacing:1px; transition:transform 0.1s; }
  .gb-submit:hover { transform:translate(-1px,-1px); }
  .entries { display:flex; flex-direction:column; gap:10px; }
  .entry { background:#fffaf0; border:2px solid var(--wall2); padding:10px 14px; box-shadow:3px 3px 0 var(--wall2); position:relative; }
  .entry-text { font-size:18px; color:var(--dark); line-height:1.5; }
  .entry-date { font-size:14px; color:var(--wood); margin-top:3px; }
  .no-entries { text-align:center; color:var(--wood); font-size:18px; padding:20px; }

  /* ì–´ë“œë¯¼ ëª¨ë“œ: ë°©ëª…ë¡ ì‚­ì œ ë²„íŠ¼ */
  .entry-del {
    display:none; position:absolute; top:8px; right:8px;
    background:var(--fl); color:#fff; border:none; cursor:pointer;
    font-family:'Black Han Sans',sans-serif; font-size:11px;
    padding:2px 7px; box-shadow:2px 2px 0 var(--fl2);
  }
  body.admin-mode .entry-del { display:block; }

  /* â”€â”€ ì–´ë“œë¯¼ í‚¤ ë²„íŠ¼ (í•˜ë‹¨ ê³ ì •) â”€â”€ */
  .admin-key-btn {
    position:fixed; bottom:20px; right:20px;
    background:var(--dark); color:var(--bg);
    border:none; cursor:pointer; width:44px; height:44px;
    font-size:20px; box-shadow:3px 3px 0 var(--wood2);
    z-index:200; opacity:0.5; transition:opacity 0.2s;
  }
  .admin-key-btn:hover { opacity:1; }
  body.admin-mode .admin-key-btn { background:var(--admin); box-shadow:3px 3px 0 var(--admin2); opacity:1; }

  /* â”€â”€ PIN ëª¨ë‹¬ â”€â”€ */
  .pin-overlay {
    position:fixed; inset:0; background:rgba(44,26,14,0.65);
    z-index:500; display:flex; align-items:center; justify-content:center;
    opacity:0; pointer-events:none; transition:opacity 0.2s;
  }
  .pin-overlay.open { opacity:1; pointer-events:all; }
  .pin-box {
    background:var(--bg); border:var(--px) solid var(--dark);
    box-shadow:8px 8px 0 var(--wood2); padding:28px 24px;
    width:280px; text-align:center;
    transform:translateY(12px); transition:transform 0.2s;
  }
  .pin-overlay.open .pin-box { transform:translateY(0); }
  .pin-title { font-family:'Black Han Sans',sans-serif; font-size:20px; color:var(--dark); margin-bottom:16px; letter-spacing:1px; }
  .pin-input {
    width:100%; text-align:center; font-family:'Black Han Sans',sans-serif;
    font-size:28px; letter-spacing:8px; border:var(--px) solid var(--dark);
    padding:10px; background:#fffaf0; outline:none; margin-bottom:12px;
    box-shadow:inset 2px 2px 0 rgba(0,0,0,0.08);
  }
  .pin-error { font-size:15px; color:var(--fl); margin-bottom:8px; min-height:20px; }
  .pin-btns { display:flex; gap:8px; }
  .pin-ok { flex:1; padding:9px; background:var(--dark); color:var(--bg); border:none; font-family:'Black Han Sans',sans-serif; font-size:15px; cursor:pointer; box-shadow:3px 3px 0 var(--wood2); }
  .pin-cancel { padding:9px 14px; background:var(--wall2); color:var(--dark); border:var(--px) solid var(--dark); font-family:'Black Han Sans',sans-serif; font-size:15px; cursor:pointer; }

  /* â”€â”€ ì–´ë“œë¯¼ íŒ¨ë„ â”€â”€ */
  .admin-panel {
    display:none; max-width:620px; margin:0 auto 32px; padding:0 12px;
  }
  body.admin-mode .admin-panel { display:block; }

  .admin-section {
    background:#e8f0f8; border:2px solid var(--admin);
    box-shadow:4px 4px 0 var(--admin2); padding:16px; margin-bottom:16px;
  }
  .admin-section-title {
    font-family:'Black Han Sans',sans-serif; font-size:18px; color:var(--admin);
    letter-spacing:1px; margin-bottom:12px; padding-bottom:8px;
    border-bottom:2px solid var(--admin);
  }

  /* í…Œì´ë¸” í† ê¸€ ê·¸ë¦¬ë“œ */
  .table-grid { display:grid; grid-template-columns:1fr 1fr; gap:8px; }
  .table-toggle {
    display:flex; align-items:center; justify-content:space-between;
    background:#fff; border:2px solid var(--admin);
    padding:8px 12px; cursor:pointer; transition:background 0.2s;
    box-shadow:2px 2px 0 var(--admin2);
  }
  .table-toggle:hover { background:#d8e8f8; }
  .table-toggle.full { background:var(--fl-bg); border-color:var(--fl); box-shadow:2px 2px 0 var(--fl2); }
  .toggle-name { font-family:'Black Han Sans',sans-serif; font-size:13px; color:var(--dark); }
  .toggle-badge {
    font-family:'Black Han Sans',sans-serif; font-size:11px;
    padding:2px 7px; border:1px solid var(--dark);
  }
  .table-toggle:not(.full) .toggle-badge { background:var(--av); color:#fff; border-color:var(--av); }
  .table-toggle.full .toggle-badge { background:var(--fl); color:#fff; border-color:var(--fl); }

  /* ê³µì§€ì‚¬í•­ í¸ì§‘ */
  .notice-edit { width:100%; border:2px solid var(--admin); padding:10px; font-family:'Dongle',sans-serif; font-size:17px; color:var(--dark); background:#fffaf0; outline:none; margin-bottom:8px; resize:none; height:70px; }
  .admin-btn { padding:8px 20px; background:var(--admin); color:#fff; font-family:'Black Han Sans',sans-serif; font-size:14px; border:none; cursor:pointer; box-shadow:3px 3px 0 var(--admin2); letter-spacing:0.5px; }
  .admin-btn:hover { background:var(--admin2); }
  .admin-btn.danger { background:var(--fl); box-shadow:3px 3px 0 var(--fl2); }

  /* ì‹œê°„ëŒ€ ê¸°ë¡ */
  .log-list { display:flex; flex-direction:column; gap:6px; max-height:220px; overflow-y:auto; }
  .log-item { background:#fff; border:1px solid #b8c8d8; padding:7px 10px; font-size:15px; color:var(--dark); display:flex; justify-content:space-between; align-items:center; }
  .log-time { font-family:'Black Han Sans',sans-serif; font-size:12px; color:var(--admin); }
  .log-status { font-size:13px; color:var(--wood2); }
  .log-empty { text-align:center; color:#888; font-size:16px; padding:16px; }

  /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
  @media (max-width:639px) {
    .cafe-wrapper { padding:0 0 16px; overflow-x:auto; }
    .floor-plan { width:100%; min-height:480px; border-left:none; border-right:none; border-radius:0; }
    .left-section { width:150px; }
    .loft-stairs { width:134px; }
    .secret-room { width:134px; }
    .seat-box { width:120px; }
    .sm-table .tb { width:108px !important; }
    .lp-shelf { left:150px; width:62px; height:310px; }
    .lp-stack { width:50px; } .lp-disc { width:34px; height:34px; }
    #t1 { left:224px; top:20px; } #t1 .tb { width:106px; height:50px; }
    #t2 { right:10px; top:20px; } #t2 .tb { width:90px; height:46px; }
    #t3 { right:10px; top:98px; } #t3 .tb { width:106px; height:50px; }
    #t4 { left:240px; top:175px; } #t4 .tb { width:86px; height:86px; }
    #t5 { left:160px; top:295px; } #t5 .tb { width:52px; height:78px; }
    .turntable { right:10px; top:228px; width:48px; height:64px; }
    .tt-disc { width:28px; height:28px; }
    .plant { display:none; }
    .owner-wrap { right:10px; bottom:6px; }
    .counter { width:120px; height:38px; } .counter-label { font-size:13px; }
    .owner-char { width:30px; height:44px; }
    .guest-wrap { right:66px; bottom:84px; } .guest-char { width:24px; height:36px; }
    .bathroom { left:214px; bottom:12px; width:78px; height:32px; }
    .entrance { left:152px; bottom:12px; width:56px; height:32px; }
    .table-grid { grid-template-columns:1fr; }
  }
</style>
</head>
<body>

<!-- ì–´ë“œë¯¼ íƒ‘ë°” -->
<div class="admin-topbar">
  <span>ğŸ”§ ì–´ë“œë¯¼ ëª¨ë“œ</span>
  <button class="admin-exit-btn" onclick="exitAdmin()">ë‚˜ê°€ê¸° âœ•</button>
</div>

<!-- í—¤ë” -->
<div class="header">
  <div class="logo">ğŸ¦¦ lazy otter</div>
  <div class="page-title">ì§€ê¸ˆ ìë¦¬ ìˆì–´ìš”?</div>
  <div class="subtitle">ì‹¤ì‹œê°„ ì¢Œì„ í˜„í™© Â· ì—°ì‹ ë‚´ì—­</div>
</div>

<!-- ê³µì§€ì‚¬í•­ -->
<div class="notice-bar">
  <div class="notice-content" id="noticeDisplay">
    <span class="notice-icon">ğŸ“¢</span>
    <span class="notice-text" id="noticeText"></span>
  </div>
</div>

<div class="legend">
  <div class="li"><div class="ld av"></div><span>ì—¬ìœ ìˆìŒ</span></div>
  <div class="li"><div class="ld fl"></div><span>ë§Œì„</span></div>
</div>
<div class="update-bar"><span class="pulse"></span>ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì¤‘</div>

<!-- ë„ë©´ -->
<div class="cafe-wrapper">
  <div class="floor-plan">
    <div class="floor-bg"></div>

    <div class="left-section">
      <div class="loft-badge">ğŸ”’ 2ì¸µ ë‹¤ë½<br>(staff only)</div>
      <div class="loft-stairs"><div class="stairs-label">â–² ë‹¤ë½ê³„ë‹¨</div></div>
      <div class="secret-room">
        <div class="room-title">ğŸšª ì‘ì€ ë°©</div>
        <div class="bar-table-wrap">
          <div class="bar-table-label">ë°” í…Œì´ë¸”</div>
          <div class="bar-seats">
            <div class="bar-seat" id="bar1" onclick="onSeatClick('bar1')">
              <div class="seat-box av">
                <div class="seat-info"><span class="seat-num">ë°”1</span><span class="seat-person">Â· 1ì¸</span></div>
                <div class="seat-status">ì—¬ìœ </div>
              </div>
            </div>
            <div class="bar-seat" id="bar2" onclick="onSeatClick('bar2')">
              <div class="seat-box av">
                <div class="seat-info"><span class="seat-num">ë°”2</span><span class="seat-person">Â· 1ì¸</span></div>
                <div class="seat-status">ì—¬ìœ </div>
              </div>
            </div>
            <div class="bar-seat" id="bar3" onclick="onSeatClick('bar3')">
              <div class="seat-box fl">
                <div class="seat-info"><span class="seat-num">ë°”3</span><span class="seat-person">Â· 1ì¸</span></div>
                <div class="seat-status">ë§Œì„</div>
              </div>
            </div>
          </div>
        </div>
        <div class="room-table-wrap">
          <div class="room-table-label">í…Œì´ë¸”</div>
          <div class="sm-table" id="tsecret" onclick="onTableClick(event,'tsecret')">
            <div class="tb av" style="width:140px;height:54px;">
              <div class="tb-name">í…Œì´ë¸”</div>
              <div class="tb-seats">ğŸª‘ 2ì¸</div>
              <div class="status">ì—¬ìœ </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="lp-shelf">
      <div class="lp-title">LP<br>ì„œì¬</div>
      <div class="lp-stack">
        <div class="lp-record"></div><div class="lp-record"></div><div class="lp-record"></div>
        <div class="lp-record"></div><div class="lp-record"></div><div class="lp-record"></div>
        <div class="lp-record"></div><div class="lp-record"></div><div class="lp-record"></div>
        <div class="lp-record"></div><div class="lp-record"></div><div class="lp-record"></div>
      </div>
      <div class="lp-disc-wrap">
        <div class="lp-disc"></div>
        <div class="lp-disc-label">NOW PLAYING</div>
      </div>
    </div>

    <div class="table" id="t1" onclick="onTableClick(event,'t1')">
      <div class="tb av"><div class="tb-name">í…Œì´ë¸” 1</div><div class="tb-seats">ğŸª‘ 4ì¸</div><div class="status">ì—¬ìœ </div></div>
    </div>
    <div class="table" id="t2" onclick="onTableClick(event,'t2')">
      <div class="tb fl"><div class="tb-name">í…Œì´ë¸” 2</div><div class="tb-seats">ğŸª‘ 2ì¸</div><div class="status">ë§Œì„</div></div>
    </div>
    <div class="table" id="t3" onclick="onTableClick(event,'t3')">
      <div class="tb av"><div class="tb-name">í…Œì´ë¸” 3</div><div class="tb-seats">ğŸª‘ 4ì¸</div><div class="status">ì—¬ìœ </div></div>
    </div>
    <div class="table" id="t4" onclick="onTableClick(event,'t4')">
      <div class="tb fl"><div class="tb-name">í…Œì´ë¸”<br>4</div><div class="tb-seats">ğŸª‘ 4ì¸</div><div class="status">ë§Œì„</div></div>
    </div>
    <div class="table" id="t5" onclick="onTableClick(event,'t5')">
      <div class="tb av"><div class="tb-name">í…Œì´ë¸”<br>5</div><div class="tb-seats">ğŸª‘ 2ì¸</div><div class="status">ì—¬ìœ </div></div>
    </div>

    <div class="turntable"><div class="tt-disc"></div><div class="tt-label">TURN</div></div>

    <div class="plant" style="right:82px;top:244px;"><div style="font-size:24px;line-height:1;">ğŸª´</div><div class="plant-pot" style="width:15px;height:9px;"></div></div>
    <div class="plant" style="right:108px;top:260px;"><div style="font-size:19px;line-height:1;">ğŸŒ¿</div><div class="plant-pot" style="width:12px;height:7px;"></div></div>
    <div class="plant" style="right:84px;top:278px;"><div style="font-size:14px;line-height:1;">ğŸŒ±</div><div class="plant-pot" style="width:10px;height:6px;"></div></div>

    <!-- ì†ë‹˜ (ì¹´ìš´í„° ìœ„) -->
    <div class="guest-wrap">
      <svg class="guest-char" viewBox="0 0 14 20" xmlns="http://www.w3.org/2000/svg" shape-rendering="crispEdges">
        <rect x="3" y="0" width="8" height="2" fill="#6b4a28"/><rect x="2" y="1" width="10" height="4" fill="#6b4a28"/>
        <rect x="3" y="2" width="8" height="6" fill="#f5c8a0"/>
        <rect x="4" y="4" width="2" height="2" fill="#2c1a0e"/><rect x="8" y="4" width="2" height="2" fill="#2c1a0e"/>
        <rect x="3" y="6" width="2" height="1" fill="#f0a0a0" opacity="0.6"/><rect x="9" y="6" width="2" height="1" fill="#f0a0a0" opacity="0.6"/>
        <rect x="5" y="7" width="4" height="1" fill="#c07060"/>
        <rect x="3" y="8" width="8" height="7" fill="#7a9a60"/>
        <rect x="1" y="9" width="2" height="4" fill="#7a9a60"/><rect x="11" y="9" width="2" height="4" fill="#7a9a60"/>
        <rect x="1" y="13" width="2" height="1" fill="#f5c8a0"/><rect x="11" y="13" width="2" height="1" fill="#f5c8a0"/>
        <rect x="4" y="15" width="2" height="4" fill="#4a5a8a"/><rect x="8" y="15" width="2" height="4" fill="#4a5a8a"/>
        <rect x="3" y="18" width="3" height="2" fill="#2c1a0e"/><rect x="8" y="18" width="3" height="2" fill="#2c1a0e"/>
      </svg>
    </div>

    <!-- ì¹´ìš´í„° + ì£¼ì¸ (ì¹´ìš´í„° ì•„ë˜, ë’·ëª¨ìŠµ) -->
    <div class="owner-wrap">
      <div class="counter"><div class="counter-label">â˜• ì¹´ìš´í„°</div></div>
      <svg class="owner-char" viewBox="0 0 18 26" xmlns="http://www.w3.org/2000/svg" shape-rendering="crispEdges">
        <rect x="2" y="0" width="14" height="2" fill="#2c1a0e"/><rect x="2" y="1" width="14" height="7" fill="#2c1a0e"/>
        <rect x="3" y="8" width="2" height="2" fill="#2c1a0e"/><rect x="13" y="8" width="2" height="2" fill="#2c1a0e"/>
        <rect x="4" y="2" width="10" height="7" fill="#f5c8a0"/>
        <rect x="7" y="9" width="4" height="1" fill="#f5c8a0"/>
        <rect x="4" y="10" width="10" height="10" fill="#d4a8c8"/>
        <rect x="6" y="10" width="1" height="1" fill="#f0d8e8"/><rect x="7" y="11" width="1" height="1" fill="#f0d8e8"/>
        <rect x="8" y="12" width="2" height="1" fill="#f0d8e8"/><rect x="10" y="11" width="1" height="1" fill="#f0d8e8"/><rect x="11" y="10" width="1" height="1" fill="#f0d8e8"/>
        <rect x="2" y="11" width="2" height="6" fill="#d4a8c8"/><rect x="14" y="11" width="2" height="6" fill="#d4a8c8"/>
        <rect x="2" y="17" width="2" height="2" fill="#f5c8a0"/><rect x="14" y="17" width="2" height="2" fill="#f5c8a0"/>
        <rect x="5" y="20" width="3" height="4" fill="#b090c0"/><rect x="10" y="20" width="3" height="4" fill="#b090c0"/>
        <rect x="4" y="23" width="4" height="2" fill="#2c1a0e"/><rect x="10" y="23" width="4" height="2" fill="#2c1a0e"/>
      </svg>
    </div>

    <div class="bathroom"><div class="bathroom-label">ğŸš» í™”ì¥ì‹¤</div></div>
    <div class="entrance"><div class="entrance-label">ğŸšª ë¬¸</div></div>
  </div>
</div>

<!-- ì˜¤ëŠ˜ì˜ LP -->
<div class="lp-section" id="lpSection">
  <div class="lp-section-inner">
    <div class="lp-section-header">
      <div class="lp-spinning"></div>
      <div class="lp-section-title">ğŸµ ì˜¤ëŠ˜ì˜ LP</div>
      <div class="lp-date" id="lpDate"></div>
    </div>
    <div class="lp-list" id="lpList"></div>
  </div>
</div>

<!-- ë°©ëª…ë¡ -->
<div class="guestbook-section">
  <div class="gb-title">ğŸ“ ë°©ëª…ë¡</div>
  <div class="gb-input-wrap" id="gbInputArea">
    <textarea id="guestInput" placeholder="í•œë§ˆë”” ë‚¨ê²¨ì£¼ì„¸ìš” â˜•  ì¹­ì°¬ì´ë“  í”¼ë“œë°±ì´ë“  í™˜ì˜í•´ìš”!"></textarea>
    <button class="gb-submit" onclick="submitEntry()">ë‚¨ê¸°ê¸° â†’</button>
  </div>
  <div class="entries" id="entriesList"></div>
</div>

<!-- ì–´ë“œë¯¼ íŒ¨ë„ -->
<div class="admin-panel">

  <!-- 0. ì˜¤ëŠ˜ì˜ LP ê´€ë¦¬ -->
  <div class="admin-section">
    <div class="admin-section-title">ğŸµ ì˜¤ëŠ˜ì˜ LP ê´€ë¦¬</div>
    <div style="display:flex;gap:8px;margin-bottom:10px;">
      <input id="lpAlbumInput" type="text" placeholder="ì•¨ë²”ëª… *" style="flex:1;border:2px solid var(--admin);padding:7px 10px;font-family:'Dongle',sans-serif;font-size:16px;background:#fffaf0;outline:none;">
      <input id="lpArtistInput" type="text" placeholder="ì•„í‹°ìŠ¤íŠ¸" style="flex:1;border:2px solid var(--admin);padding:7px 10px;font-family:'Dongle',sans-serif;font-size:16px;background:#fffaf0;outline:none;">
    </div>
    <div style="display:flex;gap:8px;margin-bottom:12px;align-items:center;">
      <label style="display:flex;align-items:center;gap:5px;font-size:15px;color:var(--dark);cursor:pointer;">
        <input type="checkbox" id="lpNowPlaying" style="width:15px;height:15px;"> ì§€ê¸ˆ ì¬ìƒ ì¤‘ í‘œì‹œ
      </label>
      <button class="admin-btn" onclick="addLpItem()" style="margin-left:auto;">+ ì¶”ê°€</button>
    </div>
    <div id="adminLpList" style="display:flex;flex-direction:column;gap:6px;"></div>
    <div style="margin-top:10px;">
      <button class="admin-btn danger" onclick="clearLpList()">ì˜¤ëŠ˜ ëª©ë¡ ì´ˆê¸°í™”</button>
    </div>
  </div>

  <!-- 1. í…Œì´ë¸” ìƒíƒœ ê´€ë¦¬ -->
  <div class="admin-section">
    <div class="admin-section-title">ğŸª‘ í…Œì´ë¸” ìƒíƒœ ê´€ë¦¬</div>
    <div class="table-grid" id="adminTableGrid"></div>
  </div>

  <!-- 2. ê³µì§€ì‚¬í•­ -->
  <div class="admin-section">
    <div class="admin-section-title">ğŸ“¢ ê³µì§€ì‚¬í•­</div>
    <textarea class="notice-edit" id="noticeInput" placeholder="ê³µì§€ì‚¬í•­ì„ ì…ë ¥í•˜ì„¸ìš”&#10;ì˜ˆ: ì˜¤ëŠ˜ì€ ì˜¤í›„ 6ì‹œì— ë§ˆê°í•©ë‹ˆë‹¤ ğŸŒ™"></textarea>
    <div style="display:flex;gap:8px;">
      <button class="admin-btn" onclick="saveNotice()">ê³µì§€ ì €ì¥</button>
      <button class="admin-btn danger" onclick="clearNotice()">ê³µì§€ ì‚­ì œ</button>
    </div>
  </div>

  <!-- 3. ì‹œê°„ëŒ€ë³„ ë§Œì„ ê¸°ë¡ -->
  <div class="admin-section">
    <div class="admin-section-title">ğŸ“Š ì‹œê°„ëŒ€ë³„ ê¸°ë¡</div>
    <div style="margin-bottom:10px;display:flex;gap:8px;align-items:center;">
      <button class="admin-btn" onclick="logSnapshot()">ğŸ“ ì§€ê¸ˆ í˜„í™© ê¸°ë¡</button>
      <button class="admin-btn danger" onclick="clearLog()">ê¸°ë¡ ì´ˆê¸°í™”</button>
    </div>
    <div class="log-list" id="logList"></div>
  </div>

  <!-- 4. ë°©ëª…ë¡ ê´€ë¦¬ -->
  <div class="admin-section">
    <div class="admin-section-title">ğŸ“ ë°©ëª…ë¡ ê´€ë¦¬</div>
    <div style="margin-bottom:10px;">
      <button class="admin-btn danger" onclick="clearAllEntries()">ì „ì²´ ì‚­ì œ</button>
    </div>
    <div class="entries" id="adminEntriesList"></div>
  </div>

</div>

<!-- ì–´ë“œë¯¼ í‚¤ ë²„íŠ¼ -->
<button class="admin-key-btn" onclick="openPin()" title="ì–´ë“œë¯¼">ğŸ”‘</button>

<!-- PIN ëª¨ë‹¬ -->
<div class="pin-overlay" id="pinOverlay" onclick="closePinOut(event)">
  <div class="pin-box">
    <div class="pin-title">ğŸ” ì–´ë“œë¯¼ PIN</div>
    <input class="pin-input" id="pinInput" type="password" maxlength="4" inputmode="numeric" placeholder="â€¢â€¢â€¢â€¢" onkeydown="if(event.key==='Enter')checkPin()">
    <div class="pin-error" id="pinError"></div>
    <div class="pin-btns">
      <button class="pin-ok" onclick="checkPin()">í™•ì¸</button>
      <button class="pin-cancel" onclick="closePin()">ì·¨ì†Œ</button>
    </div>
  </div>
</div>

<div class="tooltip" id="tooltip"></div>

<script>
  const ADMIN_PIN = '1234'; // â† ì—¬ê¸°ì„œ PIN ë³€ê²½

  const META = {
    t1:{name:'í…Œì´ë¸” 1',seats:4}, t2:{name:'í…Œì´ë¸” 2',seats:2},
    t3:{name:'í…Œì´ë¸” 3',seats:4}, t4:{name:'í…Œì´ë¸” 4',seats:4},
    t5:{name:'í…Œì´ë¸” 5',seats:2},
    tsecret:{name:'í…Œì´ë¸” (ì‘ì€ë°©)',seats:2},
    bar1:{name:'ë°”1',seats:1}, bar2:{name:'ë°”2',seats:1}, bar3:{name:'ë°”3',seats:1},
  };

  let isAdmin = false;
  const tooltip = document.getElementById('tooltip');

  // â”€â”€ ìƒíƒœ ë¡œë“œ/ì €ì¥ â”€â”€
  function loadState() {
    const saved = localStorage.getItem('lo_seats');
    if (!saved) return;
    const state = JSON.parse(saved);
    Object.entries(state).forEach(([id, full]) => {
      setTableState(id, full, false);
    });
  }

  function saveState() {
    const state = {};
    Object.keys(META).forEach(id => {
      const el = document.getElementById(id);
      if (!el) return;
      const box = el.querySelector('.tb,.seat-box');
      state[id] = box ? box.classList.contains('fl') : false;
    });
    localStorage.setItem('lo_seats', JSON.stringify(state));
  }

  // â”€â”€ í…Œì´ë¸” ìƒíƒœ ë³€ê²½ â”€â”€
  function setTableState(id, full, save=true) {
    const el = document.getElementById(id);
    if (!el) return;
    const isBar = id.startsWith('bar');
    if (isBar) {
      const box = el.querySelector('.seat-box');
      const stat = el.querySelector('.seat-status');
      if (!box) return;
      box.classList.toggle('av', !full);
      box.classList.toggle('fl', full);
      if (stat) stat.textContent = full ? 'ë§Œì„' : 'ì—¬ìœ ';
    } else {
      const tb = el.querySelector('.tb');
      const stat = el.querySelector('.status');
      if (!tb) return;
      tb.classList.toggle('av', !full);
      tb.classList.toggle('fl', full);
      if (stat) stat.textContent = full ? 'ë§Œì„' : 'ì—¬ìœ ';
    }
    if (save) { saveState(); renderAdminGrid(); }
  }

  function toggleTable(id) {
    const el = document.getElementById(id);
    if (!el) return;
    const isBar = id.startsWith('bar');
    const box = isBar ? el.querySelector('.seat-box') : el.querySelector('.tb');
    const isFull = box.classList.contains('fl');
    setTableState(id, !isFull);
  }

  // â”€â”€ í´ë¦­ í•¸ë“¤ëŸ¬ â”€â”€
  function onTableClick(e, id) {
    if (isAdmin) { toggleTable(id); return; }
    const el = document.getElementById(id);
    const body = el.querySelector('.tb');
    const isFull = body.classList.contains('fl');
    const m = META[id];
    showTooltip(isFull ? `${m.name} â€” ğŸ”´ ë§Œì„ì´ì—ìš”` : `${m.name} â€” ğŸŸ¢ ìë¦¬ ìˆì–´ìš”! (${m.seats}ì¸ì„)`, el.getBoundingClientRect());
  }

  function onSeatClick(id) {
    if (isAdmin) { toggleTable(id); return; }
    const el = document.getElementById(id);
    const box = el.querySelector('.seat-box');
    const isFull = box.classList.contains('fl');
    const m = META[id];
    showTooltip(isFull ? `${m.name} â€” ğŸ”´ ì‚¬ìš© ì¤‘ì´ì—ìš”` : `${m.name} â€” ğŸŸ¢ ë¹„ì–´ìˆì–´ìš”!`, el.getBoundingClientRect());
  }

  function showTooltip(text, rect) {
    tooltip.textContent = text;
    tooltip.style.left = Math.max(8, rect.left + rect.width/2 - 90) + 'px';
    tooltip.style.top = (rect.top - 42 + window.scrollY) + 'px';
    tooltip.classList.add('show');
    setTimeout(() => tooltip.classList.remove('show'), 2000);
  }

  // â”€â”€ PIN ëª¨ë‹¬ â”€â”€
  function openPin() {
    if (isAdmin) { exitAdmin(); return; }
    document.getElementById('pinInput').value = '';
    document.getElementById('pinError').textContent = '';
    document.getElementById('pinOverlay').classList.add('open');
    setTimeout(() => document.getElementById('pinInput').focus(), 100);
  }
  function closePin() { document.getElementById('pinOverlay').classList.remove('open'); }
  function closePinOut(e) { if(e.target===document.getElementById('pinOverlay')) closePin(); }
  function checkPin() {
    const val = document.getElementById('pinInput').value;
    if (val === ADMIN_PIN) { closePin(); enterAdmin(); }
    else {
      document.getElementById('pinError').textContent = 'âŒ PINì´ í‹€ë ¸ì–´ìš”';
      document.getElementById('pinInput').value = '';
      document.getElementById('pinInput').focus();
    }
  }

  // â”€â”€ ì–´ë“œë¯¼ ëª¨ë“œ â”€â”€
  function enterAdmin() {
    isAdmin = true;
    document.body.classList.add('admin-mode');
    renderAdminGrid();
    renderAdminEntries();
    renderLog();
    renderAdminLp();
    const notice = localStorage.getItem('lo_notice') || '';
    document.getElementById('noticeInput').value = notice;
  }

  function exitAdmin() {
    isAdmin = false;
    document.body.classList.remove('admin-mode');
  }

  // â”€â”€ ì–´ë“œë¯¼ í…Œì´ë¸” ê·¸ë¦¬ë“œ â”€â”€
  function renderAdminGrid() {
    const grid = document.getElementById('adminTableGrid');
    if (!grid) return;
    grid.innerHTML = Object.entries(META).map(([id, m]) => {
      const el = document.getElementById(id);
      if (!el) return '';
      const isBar = id.startsWith('bar');
      const box = isBar ? el.querySelector('.seat-box') : el.querySelector('.tb');
      const isFull = box ? box.classList.contains('fl') : false;
      return `<div class="table-toggle${isFull?' full':''}" onclick="toggleTable('${id}'); renderAdminGrid();">
        <span class="toggle-name">${m.name}</span>
        <span class="toggle-badge">${isFull?'ë§Œì„':'ì—¬ìœ '}</span>
      </div>`;
    }).join('');
  }

  // â”€â”€ ê³µì§€ì‚¬í•­ â”€â”€
  function saveNotice() {
    const text = document.getElementById('noticeInput').value.trim();
    localStorage.setItem('lo_notice', text);
    showNotice(text);
    alert('ê³µì§€ê°€ ì €ì¥ëì–´ìš” ğŸ“¢');
  }
  function clearNotice() {
    localStorage.removeItem('lo_notice');
    document.getElementById('noticeInput').value = '';
    showNotice('');
  }
  function showNotice(text) {
    const el = document.getElementById('noticeDisplay');
    const textEl = document.getElementById('noticeText');
    if (text) { textEl.textContent = text; el.classList.add('show'); }
    else { textEl.textContent = ''; el.classList.remove('show'); }
  }

  // â”€â”€ ì˜¤ëŠ˜ì˜ LP â”€â”€
  let lpItems = [];
  try { lpItems = JSON.parse(localStorage.getItem('lo_lp') || '[]'); } catch(e) {}

  function addLpItem() {
    const album = document.getElementById('lpAlbumInput').value.trim();
    const artist = document.getElementById('lpArtistInput').value.trim();
    const nowPlaying = document.getElementById('lpNowPlaying').checked;
    if (!album) { alert('ì•¨ë²”ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'); return; }
    if (nowPlaying) lpItems.forEach(i => i.nowPlaying = false);
    lpItems.push({ album, artist, nowPlaying });
    localStorage.setItem('lo_lp', JSON.stringify(lpItems));
    document.getElementById('lpAlbumInput').value = '';
    document.getElementById('lpArtistInput').value = '';
    document.getElementById('lpNowPlaying').checked = false;
    renderLpFront();
    renderAdminLp();
  }

  function deleteLpItem(idx) {
    lpItems.splice(idx, 1);
    localStorage.setItem('lo_lp', JSON.stringify(lpItems));
    renderLpFront();
    renderAdminLp();
  }

  function setNowPlaying(idx) {
    lpItems.forEach((item, i) => item.nowPlaying = (i === idx));
    localStorage.setItem('lo_lp', JSON.stringify(lpItems));
    renderLpFront();
    renderAdminLp();
  }

  function clearLpList() {
    if (!confirm('ì˜¤ëŠ˜ì˜ LP ëª©ë¡ì„ ì´ˆê¸°í™”í• ê¹Œìš”?')) return;
    lpItems = [];
    localStorage.setItem('lo_lp', JSON.stringify(lpItems));
    renderLpFront();
    renderAdminLp();
  }

  function makeDiscHTML(nowPlaying) {
    return `<div class="lp-cover-disc${nowPlaying ? ' spinning' : ''}"></div>`;
  }

  function renderLpFront() {
    const el = document.getElementById('lpList');
    const dateEl = document.getElementById('lpDate');
    if (!el) return;
    const today = new Date().toLocaleDateString('ko-KR', {month:'long', day:'numeric', weekday:'short'});
    if (dateEl) dateEl.textContent = today;
    if (!lpItems.length) {
      el.innerHTML = '<div class="lp-empty">ğŸ¶ ì˜¤ëŠ˜ì˜ LPë¥¼ ì¤€ë¹„ ì¤‘ì´ì—ìš”</div>';
      return;
    }
    el.innerHTML = lpItems.map((item, i) => `
      <div class="lp-item${item.nowPlaying ? ' now-playing' : ''}">
        <span class="lp-num">${i+1}</span>
        ${makeDiscHTML(item.nowPlaying)}
        <div class="lp-info">
          <div class="lp-album">${item.album}</div>
          ${item.artist ? `<div class="lp-artist">${item.artist}</div>` : ''}
        </div>
        ${item.nowPlaying ? '<span class="lp-now">â–¶ NOW</span>' : ''}
      </div>`).join('');
  }

  function renderAdminLp() {
    const el = document.getElementById('adminLpList');
    if (!el) return;
    if (!lpItems.length) {
      el.innerHTML = '<div style="color:#888;font-size:15px;padding:8px 0;">ì•„ì§ LPê°€ ì—†ì–´ìš”. ìœ„ì—ì„œ ì¶”ê°€í•´ì£¼ì„¸ìš”!</div>';
      return;
    }
    el.innerHTML = lpItems.map((item, i) => `
      <div style="display:flex;align-items:center;gap:8px;background:#fff;border:1px solid #b8c8d8;padding:7px 10px;box-shadow:2px 2px 0 #b8c8d8;">
        <div style="width:32px;height:32px;border-radius:50%;background:conic-gradient(#080808 0deg,#1a1a1a 60deg,#080808 120deg,#222 180deg,#080808 240deg,#1a1a1a 300deg,#080808 360deg);border:2px solid #484848;flex-shrink:0;"></div>
        <div style="flex:1;min-width:0;">
          <div style="font-family:'Black Han Sans',sans-serif;font-size:13px;color:var(--dark);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${item.album}</div>
          ${item.artist ? `<div style="font-size:13px;color:var(--wood2);">${item.artist}</div>` : ''}
        </div>
        ${item.nowPlaying
          ? '<span style="font-size:11px;color:#d4a030;font-family:\'Black Han Sans\',sans-serif;border:1px solid #d4a030;padding:1px 5px;flex-shrink:0;">â–¶ NOW</span>'
          : `<button class="admin-btn" style="font-size:11px;padding:3px 8px;flex-shrink:0;" onclick="setNowPlaying(${i})">ì¬ìƒì¤‘</button>`}
        <button class="admin-btn danger" style="font-size:11px;padding:3px 8px;flex-shrink:0;" onclick="deleteLpItem(${i})">ì‚­ì œ</button>
      </div>`).join('');
  }

  // â”€â”€ ì‹œê°„ëŒ€ ê¸°ë¡ â”€â”€
  function logSnapshot() {
    const logs = JSON.parse(localStorage.getItem('lo_logs') || '[]');
    const now = new Date();
    const timeStr = now.toLocaleDateString('ko-KR') + ' ' + now.toLocaleTimeString('ko-KR',{hour:'2-digit',minute:'2-digit'});
    const snapshot = {};
    Object.entries(META).forEach(([id]) => {
      const el = document.getElementById(id);
      if (!el) return;
      const isBar = id.startsWith('bar');
      const box = isBar ? el.querySelector('.seat-box') : el.querySelector('.tb');
      snapshot[id] = box ? box.classList.contains('fl') : false;
    });
    const fullCount = Object.values(snapshot).filter(Boolean).length;
    const total = Object.keys(META).length;
    logs.unshift({ time: timeStr, snapshot, fullCount, total });
    if (logs.length > 100) logs.pop();
    localStorage.setItem('lo_logs', JSON.stringify(logs));
    renderLog();
    alert(`ê¸°ë¡ëì–´ìš”! (${fullCount}/${total} ë§Œì„)`);
  }

  function clearLog() {
    if (!confirm('ê¸°ë¡ì„ ëª¨ë‘ ì‚­ì œí• ê¹Œìš”?')) return;
    localStorage.removeItem('lo_logs');
    renderLog();
  }

  function renderLog() {
    const logs = JSON.parse(localStorage.getItem('lo_logs') || '[]');
    const el = document.getElementById('logList');
    if (!el) return;
    if (!logs.length) { el.innerHTML = '<div class="log-empty">ì•„ì§ ê¸°ë¡ì´ ì—†ì–´ìš”<br>í˜„í™© ê¸°ë¡ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš” ğŸ“</div>'; return; }
    el.innerHTML = logs.map(l => {
      const pct = Math.round(l.fullCount / l.total * 100);
      const bar = 'â–ˆ'.repeat(Math.round(pct/10)) + 'â–‘'.repeat(10-Math.round(pct/10));
      return `<div class="log-item">
        <span class="log-time">${l.time}</span>
        <span class="log-status">${l.fullCount}/${l.total} ë§Œì„ Â· ${pct}%<br><span style="font-size:11px;letter-spacing:0;color:#888;">${bar}</span></span>
      </div>`;
    }).join('');
  }

  // â”€â”€ ë°©ëª…ë¡ â”€â”€
  let entries = [];
  try { entries = JSON.parse(localStorage.getItem('lo_gb') || '[]'); } catch(e) {}

  function submitEntry() {
    const text = document.getElementById('guestInput').value.trim();
    if (!text) return;
    const now = new Date();
    entries.unshift({ text, date: now.toLocaleDateString('ko-KR') + ' ' + now.toLocaleTimeString('ko-KR',{hour:'2-digit',minute:'2-digit'}) });
    try { localStorage.setItem('lo_gb', JSON.stringify(entries)); } catch(e) {}
    document.getElementById('guestInput').value = '';
    renderEntries();
  }

  function deleteEntry(idx) {
    entries.splice(idx, 1);
    localStorage.setItem('lo_gb', JSON.stringify(entries));
    renderEntries();
    renderAdminEntries();
  }

  function clearAllEntries() {
    if (!confirm('ë°©ëª…ë¡ì„ ì „ë¶€ ì‚­ì œí• ê¹Œìš”?')) return;
    entries = [];
    localStorage.setItem('lo_gb', JSON.stringify(entries));
    renderEntries();
    renderAdminEntries();
  }

  function renderEntries() {
    const list = document.getElementById('entriesList');
    if (!list) return;
    if (!entries.length) { list.innerHTML = '<div class="no-entries">ì•„ì§ ë°©ëª…ë¡ì´ ì—†ì–´ìš” ğŸŒ¿<br>ì²« ë²ˆì§¸ ê¸€ì„ ë‚¨ê²¨ì£¼ì„¸ìš”!</div>'; return; }
    list.innerHTML = entries.map((e,i) => `
      <div class="entry">
        <button class="entry-del" onclick="deleteEntry(${i})">ì‚­ì œ</button>
        <div class="entry-text">${e.text}</div>
        <div class="entry-date">${e.date}</div>
      </div>`).join('');
  }

  function renderAdminEntries() {
    const list = document.getElementById('adminEntriesList');
    if (!list) return;
    if (!entries.length) { list.innerHTML = '<div class="no-entries">ë°©ëª…ë¡ì´ ì—†ì–´ìš”</div>'; return; }
    list.innerHTML = entries.map((e,i) => `
      <div class="entry">
        <button class="entry-del" style="display:block;" onclick="deleteEntry(${i}); renderAdminEntries();">ì‚­ì œ</button>
        <div class="entry-text">${e.text}</div>
        <div class="entry-date">${e.date}</div>
      </div>`).join('');
  }

  // â”€â”€ ì´ˆê¸°í™” â”€â”€
  loadState();
  renderEntries();
  renderLpFront();
  const savedNotice = localStorage.getItem('lo_notice') || '';
  if (savedNotice) showNotice(savedNotice);
</script>
</body>
</html>
